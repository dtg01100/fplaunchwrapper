.TH FPLAUNCH-CLEANUP 1 "November 2025" "fplaunchwrapper 1.1" "User Commands"
.SH NAME
fplaunch-cleanup \- remove all fplaunchwrapper artifacts from user directory
.SH SYNOPSIS
.B fplaunch-cleanup
.RB [ \-y | \-\-yes ]
.RB [ \-\-dry-run ]
.RB [ \-\-bin-dir
.IR dir ]
.br
.B fplaunch-cleanup
.RB [ \-h | \-\-help ]
.SH DESCRIPTION
.B fplaunch-cleanup
safely removes all per-user artifacts created by fplaunchwrapper, including
wrapper scripts, aliases, configuration files, systemd units, cron jobs, and
bash completion drop-ins.
.PP
This script should be run before uninstalling the fplaunchwrapper package to
ensure a clean removal. It does not uninstall the system package itself.
.SH OPTIONS
.TP
.BR \-y ", " \-\-yes
Proceed with cleanup without prompting for confirmation.
.TP
.B \-\-dry-run
Show what would be removed without actually deleting anything. Useful for
previewing the cleanup operation.
.TP
.BI \-\-bin-dir " dir"
Override the wrapper binary directory. By default, the directory is read from
the configuration file.
.TP
.BR \-h ", " \-\-help
Display help message and exit.
.SH REMOVED ARTIFACTS
.B fplaunch-cleanup
removes the following:
.SS Wrapper Scripts
.IP \(bu 3
All wrapper scripts identified by the fplaunchwrapper header marker
.IP \(bu 3
Alias symlinks pointing to wrapper scripts
.IP \(bu 3
Management scripts (fplaunch-manage, fplaunch-generate, etc.)
.IP \(bu 3
Library directory containing helper scripts
.SS Configuration
.IP \(bu 3
All files in \fI~/.config/flatpak-wrappers\fR including:
  - Preferences
  - Environment variables
  - Blocklist
  - Alias configurations
  - Pre/post-launch scripts
.SS Systemd Units
.IP \(bu 3
Stops and disables flatpak-wrappers systemd units
.IP \(bu 3
Removes service, path, and timer unit files
.IP \(bu 3
Reloads systemd daemon configuration
.SS Cron Jobs
.IP \(bu 3
Removes any cron entries that reference fplaunch-generate
.SS Bash Completion
.IP \(bu 3
Removes \fI~/.bashrc.d/fplaunch_completion.bash\fR
.SH IDENTIFICATION SAFETY
Wrapper scripts are identified by checking the first 5 lines for the marker:
.PP
.nf
    # Generated by fplaunchwrapper
.fi
.PP
This ensures only generated scripts are removed, protecting any user-created
scripts in the same directory.
.SH FILES
.TP
.I ~/.config/flatpak-wrappers/
Configuration directory (removed).
.TP
.I ~/.config/systemd/user/flatpak-wrappers.*
Systemd unit files (removed).
.TP
.I ~/.bashrc.d/fplaunch_completion.bash
Bash completion script (removed).
.TP
.I ~/.local/bin/
Default wrapper directory (scripts removed, directory preserved).
.SH EXAMPLES
.TP
Preview cleanup without making changes:
.B fplaunch-cleanup --dry-run
.TP
Clean up with confirmation prompt:
.B fplaunch-cleanup
.TP
Clean up without prompting:
.B fplaunch-cleanup --yes
.TP
Clean up with custom bin directory:
.B fplaunch-cleanup --bin-dir ~/my-scripts
.SH EXIT STATUS
.TP
.B 0
Cleanup completed successfully or aborted by user
.TP
.B 1
Error during cleanup or invalid arguments
.SH NOTES
This script does not uninstall the fplaunchwrapper package itself. After
running this script, you can safely uninstall the package using your package
manager without leaving artifacts in your home directory.
.PP
If you're using a package manager, the recommended removal process is:
.PP
.nf
    fplaunch-cleanup --yes
    sudo apt remove fplaunchwrapper     # Debian/Ubuntu
    sudo dnf remove fplaunchwrapper     # Fedora
.fi
.SH ENVIRONMENT
.TP
.B XDG_CONFIG_HOME
If set, configuration is cleaned from \fI$XDG_CONFIG_HOME/flatpak-wrappers\fR
and \fI$XDG_CONFIG_HOME/systemd/user\fR.
.SH SEE ALSO
.BR fplaunch-manage (1),
.BR fplaunch-generate (1),
.BR fplaunch-setup-systemd (1)
.SH AUTHOR
Written by the fplaunchwrapper contributors.
.SH BUGS
Report bugs at: https://github.com/dtg01100/fplaunchwrapper/issues
